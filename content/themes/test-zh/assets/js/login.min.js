function DlgControl(){var a="/login/authAjax",b="/reg/ajaxInvite";return{init:function(){this.setEvent(),this.initPageStatus(),this.loginDialog=new LoginDialog(this),this.loginDialog.init()},setEvent:function(){var a=this;a.isResizing=!1,a.resizing=null,$(".soonIn").click(function(){return window.isMobile?location.href="/sign-in.php":(a.showBlank(),a.showContainer($("#pageSoonLogin")),a.soonInDialog||(a.soonInDialog=new SoonInDialog(a),a.soonInDialog.init()),void a.soonInDialog.showWXCont())}),$(".loginDialog").click(function(){a.showBlank(),a.showContainer($("#pageRegLog")),a.loginDialog.showLog()}),$(".regDialog").click(function(){a.showBlank(),a.showContainer($("#pageRegLog")),a.loginDialog.showReg()}),$(window).keydown(function(b){27!=b.keyCode||$(".mask").is(":hidden")||a.hideDlg()}),$(window).resize(function(){a.isResizing?(clearTimeout(a.resizing),a.resizing=setTimeout(function(){a.resizeDlg(),a.isResizing=!1},500)):(a.isResizing=!0,a.resizing=setTimeout(function(){a.resizeDlg(),a.isResizing=!1},500))})},resizeDlg:function(){var a=$(".popup"),b=$(window).height(),c=$(window).width(),d=(b-a.height())/2,e=(c-a.width())/2;a.css({top:d,left:e})},initPageStatus:function(){var c=this,d=$("#inviteCode").val();$.ajax({url:BASE_URL+a,type:"POST",success:function(a){if(a.success){if(a.notCommonUser)return void c.goToSystem(!0);window.USER_INFO=a,""!=d&&$.ajax({url:BASE_URL+b,type:"POST",data:{inviteCode:d},success:function(a){if(a.success)if(nowTeam=a,null!=window.USER_INFO.teamId)if(window.USER_INFO.teamId!=nowTeam.id)c.showBlank(),c.showContainer($("#choseOne")),c.loginDialog.showChoseOneDialog(nowTeam);else{if(window.isMobile)return;c.goToSystem()}else $.ajax({url:BASE_URL+joinNewTeam,type:"POST",data:{teamId:nowTeam.id},success:function(a){if(a.success){if(window.isMobile)return;c.goToSystem()}else alert("操作失败，请重试")},error:function(){}});else c.goToSystem()},error:function(){}})}else""!=d&&$.ajax({url:BASE_URL+b,type:"POST",data:{inviteCode:d},success:function(a){if(a.success){nowTeam=a;var b=$("#invitedPeople");c.showBlank(),c.showContainer(b),console.log(nowTeam),b.find(".teamName").html(nowTeam.name)}},error:function(){}})},error:function(){console.log("登录状态判断失败，请检查错误")}})},showBlank:function(){var a=$(".popup"),b=$(document).height(),c=$(window).height(),d=$(window).width(),e=(c-a.height())/2,f=(d-a.width())/2;$(".mask").height(b).show(),a.show(),a.css({top:e,left:f}),setTimeout(function(){$("body").addClass("blurFont")},10)},hideDlg:function(){$(".popup").hide(),$(".mask").hide(),setTimeout(function(){$("body").removeClass("blurFont")},100)},showContainer:function(a){$(".popupContainer").removeClass("showing"),a.addClass("showing"),a.find("input").val(""),showErrorMsg(""),setTimeout(function(){},0)},goToSystem:function(a,b){a=a||!1;var c="/download.php";if(window.isMobile){if(location.pathname===c)return;return location.href=c+"?msg="+(b===!0?"0":"1")}a?window.location.href=BASE_URL+"/homePage":window.location.href="/app"}}}function LoginDialog(a){return{init:function(){this.setEvent(),this.initOtherAuthLogin(),regParam&&uidParam&&(a.showBlank(),a.showContainer($("#pageRegLog")),this.showReg())},setEvent:function(){var b=this,c=$("#pageRegLog");c.find(".switchLog").click(function(){b.showLog()}),c.find(".switchReg").click(function(){b.showReg()}),$("#logBtn").unbind().click(function(){if($("#logBtn").attr("disabled"))return console.log("disabled"),void showErrorMsg("登录失败，请稍后重试。"+contactUs);var a=$("#logEmail").val(),c=$("#logPassword").val(),d=$("[name='checkboxLogin']:checked");b.setCookie(a,c,d),b.login()}),$("#regBtn").unbind().click(function(){return $("#regBtn").attr("disabled")?(console.log("disabled"),void showErrorMsg("请稍后重试。"+contactUs)):void b.regIn()}),$(document).click(function(){$(".emails").prev().hide()}),$(".passwords").focus(function(){$(".emails").prev().hide()}),$(".emails").keyup(function(a){b.showEmailSelect(a)}),$(document).keydown(function(a){var b=$(".searchResult");if(13==a.keyCode){var c=$("input:focus");(!b.is(":visible")||b.is(":visible")&&!$(".searchResult li").hasClass("highLight"))&&(c.parent().find(".blueBtn").length?c.parent().find(".blueBtn").click():c.parent().parent().find(".blueBtn").click())}}),$(".cross").click(function(){a.hideDlg(),$(".options").hide()}),$(".findPsw").click(function(){b.showFindPasswordDialog()}),$("#inviteLogin1").unbind().click(function(){a.showContainer($("#pageRegLog")),b.showLog()}),$("#inviteReg1").unbind().click(function(){a.showContainer($("#pageRegLog")),b.showReg()})},showLog:function(){var a=$("#pageRegLog");a.find(".switcher ul li").removeClass("active"),a.find(".switchLog").addClass("active"),a.find("form").hide(),$("#logMain").show(),$(".switchBar").css("left","51px"),this.getCookie($("#logEmail"),$("#logPassword")),$("[name='checkboxLogin']").attr("checked",!$.cookie("notPsw")),showErrorMsg("")},showReg:function(){var a=$("#pageRegLog");a.find(".switcher ul li").removeClass("active"),a.find(".switchReg").addClass("active"),$(".switchBar").css("left","142px"),a.find("form").hide(),$("#regMain").show(),showErrorMsg("")},login:function(){var b=this,c=$("#logEmail").val(),d=$("#logPassword").val();if(c)if(d){var e={j_username:c,j_password:d,_spring_security_remember_me:!0};$.ajax({url:BASE_URL+SPRING_CHECK,data:e,type:"POST",success:function(c){if(c.success)if(console.log(c),nowTeam){var d=c.team;if(!d)return console.info("不存在团队， 加入新团队");d.id==nowTeam.id?a.goToSystem():(a.showContainer($("#choseOne")),b.showChoseOneDialog(nowTeam))}else c.notCommonUser?a.goToSystem(!0):a.goToSystem();else showErrorMsg(c.errors&&c.errors.message?c.errors.message:"登录失败！"+contactUs)},error:function(){showErrorMsg("登录失败！"+contactUs)}})}else showErrorMsg("请输入密码"),$("#logPassword").focus();else showErrorMsg("请输入邮箱或手机号"),$("#logEmail").focus()},regIn:function(){var a=this,b=$("#regEmail"),c=$("#regPassword"),d=$("#regRealName"),e=jQuery.trim(b.val()),f=c.val(),g=jQuery.trim(d.val());if(e)if(window.isMobile&&!phoneStr.test(e))showErrorMsg("用户名格式错误，应该是手机号。");else if(emailStr.test(e)||phoneStr.test(e))if(f)if(f.length<6)c.focus(),showErrorMsg("密码不能小于6位");else if(g){if(phoneStr.test(e))$.ajax({url:BASE_URL+phoneRegistered,type:"POST",data:{phoneNumber:e},success:function(b){var c=b.data;c.registered?showErrorMsg("该手机号已存在"):(loginUtil.sendSmsBtn(e),a.showPhoneRegDlg(e,f,g))},error:function(){showErrorMsg("手机号验证失败，请重试")}});else if(emailStr.test(e)){a.usernameRegistered(e,function(){var b={username:e,password:f,realName:g,createdByClient:"web"};regParam&&(b.reg=regParam),uidParam&&(b.uid=uidParam),nowTeam&&(b.userFrom=3,b.t=nowTeam.joinToken);var c={url:BASE_URL+REG_URL,data:b,type:"POST",msg:"注册",success:function(c){if(c.success)a.showRegSuccessDlg(b.username);else{var d=c.errors,e=c.error;showErrorMsg(d?d:e?e:"注册失败，请再次尝试"+contactUs)}},error:function(){showErrorMsg("注册失败，请再次尝试"+contactUs)}};nowTeam&&(c.headers={"Access-Control-Allow-Headers":"X-Requested-With"}),$.ajax(c)})}}else d.focus(),showErrorMsg("请输入您的真实姓名");else c.focus(),showErrorMsg("请输入密码");else showErrorMsg("用户名格式错误，应该是邮箱或者手机号。");else b.focus(),showErrorMsg("请输入邮箱或手机号")},showPhoneRegDlg:function(b,c,d){var e=$("#regMain"),f=$("#phoneReg"),g=$("#regReInputPho"),h=$("#regReSendMessage");e.hide(),g.attr("disabled",!0).addClass("disabled"),f.find("#regMessageCommit").unbind().click(function(){var b=f.find("#regValidateCode").val();if(g.val())if(b){var e=$("#regReInputPho").val();$.ajax({url:BASE_URL+validateSmsWithPhone,type:"POST",data:{phone:e,valicode:b},success:function(b){if(b.success){var f={username:e+"@rishiqing.com",phoneNumber:e,password:c,realName:d,client:"webByPhone"};regParam&&(f.reg=regParam),uidParam&&(f.uid=uidParam),nowTeam&&(f.t=nowTeam.joinToken),$.ajax({url:BASE_URL+REG_URL,type:"POST",data:f,success:function(b){b.success?a.goToSystem(null,!0):showErrorMsg(b.errors?b.errors:"注册失败，请稍候重试"+contactUs)},error:function(){showErrorMsg("注册失败，请稍候重试"+contactUs)}})}else{var g=b.msg;showErrorMsg(g?g:"注册失败，请稍候重试")}},error:function(){showErrorMsg("验证失败，请重试")}})}else showErrorMsg("请输入验证码");else showErrorMsg("请输入邮箱或手机号")}),f.find(".reSend").unbind().click(function(){if(console.log("点重发"),!h.hasClass("reading"))if(g.val())if(phoneStr.test(g.val())){var a=g.val();$.ajax({url:BASE_URL+phoneRegistered,type:"POST",data:{phoneNumber:a},success:function(b){var c=b.data;c.registered?showErrorMsg("该手机号已存在"):loginUtil.sendSmsBtn(a)},error:function(){showErrorMsg("手机号验证失败，请重试")}}),loginUtil.interval(h,function(){g.attr("disabled",!1).removeClass("disabled")}),g.attr("disabled",!0).addClass("disabled")}else showErrorMsg("手机号码格式错误");else showErrorMsg("请输入手机号码")}),loginUtil.interval(h,function(){g.attr("disabled",!1).removeClass("disabled")}),a.showContainer(f),g.val(b)},showRegSuccessDlg:function(b){var c=$("#regSuccessDlg"),d=$("#checkEmail");console.log(b),d.attr("disabled",!0).addClass("disabled"),c.find("#toCheckEmail").unbind().click(function(){if(emailStr.test(d.val())){var a=!1;for(var b in emailMap)d.val().endWith(b)&&(window.open(emailMap[b]),a=!0);0==a&&showErrorMsg("找不到邮箱地址，请手动登录验证！")}else showErrorMsg("邮箱格式错误")}),a.showContainer(c),d.val(b)},setCookie:function(a,b,c){console.log(c),c&&c.length>0?($.cookie("notPsw",""),$.cookie("userEmail",a,{expires:365}),$.cookie("pwd",b,{expires:365})):($.cookie("notPsw",!0,{expires:365}),$.cookie("pwd",""))},getCookie:function(a,b){$.cookie("notPsw")&&$.cookie("pwd",""),$.cookie("userEmail")&&a.val($.cookie("userEmail"))},showFindPasswordDialog:function(){this.findPswDlg||(this.findPswDlg=new FindPsw(a),this.findPswDlg.init()),a.showContainer($("#findPassword"))},showChoseOneDialog:function(b){$("#choseOne").find(".teamName").text(b.name),$("#goNewTeam").unbind().click(function(){$.ajax({url:BASE_URL+joinNewTeam,type:"POST",data:{teamId:b.id},success:function(b){b.success?a.goToSystem():showErrorMsg("加入新团队失败"+contactUs)},error:function(){showErrorMsg("加入新团队失败"+contactUs)}})}),$("#stayOldTeam").unbind().click(function(){a.goToSystem()})},usernameRegistered:function(a,b){var c=this;$.ajax({url:BASE_URL+usernameRegistered,type:"POST",data:{userName:a},success:function(a){var d=a.data;d.registered?showErrorMsg("该用户名已存在"):b.call(c)},error:function(){showErrorMsg("用户名有效性验证失败，请重试")}})},showEmailSelect:function(a){var b=$(a.target),c=jQuery.trim(b.val()),d=b.prev(),e=c.indexOf("@"),f=c.substring(0,e),g=c.substring(e),h=/.*[\u4e00-\u9fa5]+.*$/,i="",j=d.find("li");if(!d.is(":hidden"))if(40==a.keyCode)if(j.hasClass("highLight")){var k=d.find(".highLight");void 0!=k.next().html()&&(k.removeClass("highLight"),k.next().addClass("highLight"))}else j.eq(0).addClass("highLight");else if(38!=a.keyCode||j.eq(0).hasClass("highLight"))13==a.keyCode&&(d.find(".highLight").click(),a.stopPropagation(),a.preventDefault());else{var l=d.find(".highLight");l.removeClass("highLight"),l.prev().addClass("highLight")}if(""==c||""==f||0>e||h.test(f))return d.hide(),!1;for(var m=0;m<emai.length;m++)emai[m].indexOf(g)>=0&&(i=i+"<li class='emailItem' onclick='getEmail(this);' onmouseover='highLight(this);'>"+f+emai[m]+"</li>");if(""!=i&&38!=a.keyCode&&40!=a.keyCode&&13!=a.keyCode){d.html(i).show();var n=d.find("li");n.hasClass("highLight")||n.eq(0).addClass("highLight")}else""==i&&d.hide()},initOtherAuthLogin:function(){var a=$("#inviteCode").val(),b={inviteCode:a||null,uid:uidParam||null,reg:regParam||null},c=[];for(var d in b)c.push(d+"="+b[d]||"");var e="?"+c.join("&");$(".sQQ").click(function(){window.open(BASE_URL+qqAuth+e)}),$("#pageSoonLogin").find(".toQQLogin").click(function(){window.open(BASE_URL+qqAuth+e)}),$(".sWeixin").click(function(){window.open(BASE_URL+wxAuth+e)}),$(".sWeibo").click(function(){window.open(BASE_URL+sinaAuth+e)})}}}function showErrorMsg(a){$hackError.html(a)}function SoonInDialog(a){var b=$("#pageSoonLogin");return{init:function(){this.setEvent()},setEvent:function(){var c=this;b.find(".switchWX").click(function(){c.showWXCont()}),b.find(".icon-fresh").click(function(){c.freshWxCont()}),b.find(".freshText").click(function(){c.freshWxCont()}),b.find(".switchQQ").click(function(){c.showQQCont()}),b.find(".switchLogin").click(function(){c.showLoginCont()}),b.find(".newUserReg").click(function(){a.showContainer($("#pageRegLog")),a.loginDialog.showReg()}),b.find(".soonLogBtn").unbind().click(function(){if($("#logBtn").attr("disabled"))return void showErrorMsg("登录失败，请稍后重试。"+contactUs);var a=b.find(".logEmail").val(),d=b.find(".logPassword").val(),e=$.cookie("notPsw");c.setCookie(a,d,!e),c.login()})},showErrorMsg:function(a){this.$hackError.html(a)},showQQCont:function(){b.find(".switcher ul li").removeClass("active"),b.find(".switchQQ").addClass("active"),b.find(".soonCont").hide(),b.find(".QQMain").show(),b.find(".switchBar").css("left","0"),showErrorMsg("")},showWXCont:function(){b.find(".switcher ul li").removeClass("active"),b.find(".switchWX").addClass("active"),b.find(".soonCont").hide(),b.find(".WXMain").show(),b.find(".switchBar").css("left","92px"),showErrorMsg(""),this.freshWxCont()},freshWxCont:function(){new WxLogin({id:"login_container",appid:"wxf39b085a4d6ff3c7",scope:"snsapi_login",redirect_uri:"https://www.rishiqing.com/task/weixinOauth/afterLogin",state:"null_null_null_empty_empty_empty",style:"",href:"https://rsqsystem.oss-cn-beijing.aliyuncs.com/weixin/wx2ma.css"})},showLoginCont:function(){b.find(".switcher ul li").removeClass("active"),b.find(".switchLogin").addClass("active"),b.find(".soonCont").hide(),b.find(".soonLogMain").show(),b.find(".switchBar").css("left","185px"),this.getCookie(b.find(".logEmail"),b.find(".logPassword")),showErrorMsg("")},setCookie:function(a,b,c){c?($.cookie("notPsw",!0,{expires:90}),$.cookie("pwd","")):($.cookie("userEmail",a,{expires:90}),$.cookie("pwd",b,{expires:90}))},getCookie:function(a,b){var c=$.cookie("userEmail"),d=$.cookie("pwd");c&&a.val(c),d&&b.val(d)},login:function(){var c=b.find(".logEmail"),d=b.find(".logEmail").val(),e=b.find(".logPassword"),f=b.find(".logPassword").val();if(d)if(f){var g={j_username:d,j_password:f,_spring_security_remember_me:!0};$.ajax({url:BASE_URL+SPRING_CHECK,data:g,type:"POST",success:function(b){if(b.success)if(nowTeam){var c=b.team;c?c.id==nowTeam.id?a.goToSystem():(a.showContainer($("#choseOne")),a.loginDialog.showChoseOneDialog(nowTeam)):$.ajax({url:BASE_URL+joinNewTeam,type:"POST",data:{teamId:nowTeam.id},success:function(b){b.success?a.goToSystem():alert("操作失败，请重试")},error:function(){}})}else b.notCommonUser?a.goToSystem(!0):a.goToSystem();else showErrorMsg(b.errors&&b.errors.message?b.errors.message:"登录失败！"+contactUs)},error:function(){this.showErrorMsg("登录失败！"+contactUs)}})}else e.focus(),showErrorMsg("请输入密码");else c.focus(),showErrorMsg("请输入邮箱或手机号")},usernameRegistered:function(a,b){var c=this;$.ajax({url:BASE_URL+usernameRegistered,type:"POST",data:{userName:a},success:function(a){var d=a.data;d.registered?showErrorMsg("该用户名已存在"):b.call(c)},error:function(){showErrorMsg("用户名有效性验证失败，请重试")}})}}}function FindPsw(a){var b="/reg/sendFindPasswordEmail",c="/reg/resetPassWord";return{init:function(){this.setEvent()},setEvent:function(){var a=this;$("#send").unbind().click(function(){a.clickSend()})},clickSend:function(){var a=this,b=$("#findRegEmail").val();b?emailStr.test(b)?a.sendFindPasswordEmail(b):phoneStr.test(b)?a.showSendMessage(b):showErrorMsg("邮箱或手机格式错误"):showErrorMsg("请输入邮箱或手机号")},sendFindPasswordEmail:function(a){var c=this;$.ajax({url:BASE_URL+b,type:"POST",data:{email:a},success:function(b){if(b.success)c.showSendEmail(a);else{var d=b.errors;d&&showErrorMsg(d[0])}},error:function(){showErrorMsg("邮件发送失败，请稍候重试")}})},showSendEmail:function(b){var c=$("#sendEmailMsg");a.showContainer($("#sendEmail")),c.val(b).attr("disabled",!0).addClass("disabled"),$("#emailResetPsw").unbind().click(function(){if(c.val())if(emailStr.test(c.val())){var a=!1;for(var b in emailMap)c.val().endWith(b)&&(window.open(emailMap[b]),a=!0);0==a&&showErrorMsg("找不到邮箱地址，请手动登录验证！")}else showErrorMsg("邮箱格式错误");else showErrorMsg("请输入邮箱")})},showSendMessage:function(a){var b=this;$.ajax({url:BASE_URL+phoneRegistered,type:"POST",data:{phoneNumber:a},success:function(c){var d=c.data;d.registered?(loginUtil.sendSmsBtn(a),loginUtil.clearIdentifyInterval(),b.showCheckYZM(a)):showErrorMsg("该手机号不存在")},error:function(){showErrorMsg("手机号验证失败，请重试")}})},showCheckYZM:function(b){var c=this,d=$("#sendMessage"),e=$("#reInputPho"),f=$("#phoReSendMessage");a.showContainer(d),e.val(b).attr("disabled","disabled").addClass("disabled"),loginUtil.interval(f,function(){e.attr("disabled",!1).removeClass("disabled")}),d.find("#messageCommit").unbind().click(function(){var a=d.find("#validateCode").val(),b=e.val();e.val()?phoneStr.test(e.val())?a?$.ajax({url:BASE_URL+validateSmsWithPhone,type:"POST",data:{phone:b,valicode:a},success:function(a){a.success?c.resetPassword(b):showErrorMsg(a.msg?a.msg:"验证失败，请重试")},error:function(){showErrorMsg("验证失败，请重试")}}):showErrorMsg("请输入验证码"):showErrorMsg("手机号码格式错误"):showErrorMsg("请输入手机号码")}),d.find(".reSend").unbind().click(function(){f.hasClass("reading")||(e.val()?phoneStr.test(e.val())?($.ajax({url:BASE_URL+phoneRegistered,type:"POST",data:{phoneNumber:e.val()},success:function(a){var b=a.data;b.registered?(loginUtil.sendSmsBtn(e.val()),loginUtil.clearIdentifyInterval(),loginUtil.interval(f,function(){e.attr("disabled","").removeClass("disabled")})):showErrorMsg("该手机号不存在")}}),e.attr("disabled","disabled").addClass("disabled")):showErrorMsg("手机号码格式错误"):showErrorMsg("请输入手机号码"))})},resetPassword:function(b){var d=$("#resetPassword");$("#renamePswCommit").unbind().click(function(){var d=$("#newPassword"),e=d.val(),f=$("#commitPassword"),g=f.val();e?e.length<6?(d.focus(),showErrorMsg("密码不能小于6位")):g?e!=g?(f.focus(),showErrorMsg("两次密码输入不一致")):$.ajax({url:BASE_URL+c,type:"POST",data:{phone:b,password:e},success:function(b){b.success?a.goToSystem():showErrorMsg(b.msg?b.msg:"请重试")},error:function(){showErrorMsg("密码修改失败"+contactUs)}}):(f.focus(),showErrorMsg("请再次输入密码")):(d.focus(),showErrorMsg("请输入密码"))}),a.showContainer(d)}}}function LoginUtils(){var a=[],b=60;return{sendSmsBtn:function(a){var b="qc:qc:qc:qc",c="/reg/sendCellphoneValidataCode";$.ajax({url:BASE_URL+c,type:"POST",data:{phone:a,phoneMac:b},success:function(a){a.success?(showErrorMsg("验证码发送成功"),setTimeout(function(){showErrorMsg("")},2e3)):showErrorMsg(a.errors?a.errors:"发送失败，请稍候重试.")},error:function(){showErrorMsg("验证码发送失败,请稍候重试")}})},interval:function(c,d){var e=b;c.addClass("reading").html(b);var f=setInterval(function(){e--,c.html(e),0>=e&&(c.html("重发").removeClass("reading"),clearInterval(f),d())},1e3);a.push(f)},clearIdentifyInterval:function(){a.forEach(function(a){clearInterval(a)})}}}!function(a,b){function c(a){var c,d=b.createElement("iframe"),e="https://open.weixin.qq.com/connect/qrconnect?appid="+a.appid+"&scope="+a.scope+"&redirect_uri="+a.redirect_uri+"&state="+a.state+"&login_type=jssdk";e+=a.style?"&style="+a.style:"",e+=a.href?"&href="+a.href:"",d.src=e,d.frameBorder="0",d.allowTransparency="true",d.scrolling="no",d.width="179px",d.height="179px",c=b.getElementById(a.id),c.innerHTML="",c.appendChild(d)}a.WxLogin=c}(window,document);var joinNewTeam="/team/joinNewTeam",SPRING_CHECK="/j_spring_security_check",usernameRegistered="/reg/usernameRegistered",REG_URL="/reg/register",wxAuth="/weixinOauth/toLogin",qqAuth="/qqOauth/toLogin",sinaAuth="/sinaOauth/toLogin",phoneRegistered="/reg/phoneRegistered",validateSmsWithPhone="/reg/validateSmsWithPhone",emai=["@163.com","@126.com","@gmail.com","@qq.com","@hotmail.com","@sina.com","@sina.cn","@sohu.com","@139.com","@tom.cn","@yeah.net","@sogou.com","@21cn.com","@yahoo.com.cn","@yahoo.cn","@aol.com"],emailMap={"@163.com":"http://mail.163.com","@126.com":"http://mail.126.com","@gmail.com":"https://mail.google.com","@qq.com":"https://mail.qq.com","@hotmail.com":"http://www.hotmail.com","@sina.com":"http://mail.sina.com.cn","@sohu.com":"http://mail.sohu.com","@139.com":"http://mail.10086.cn","@tom.com":"http://web.mail.tom.com","@yeah.net":"http://www.yeah.net","@sogou.com":"http://mail.sogou.com","@21cn.com":"http://mail.21cn.com","@yahoo.com":"http://mail.yahoo.com","@aol.com":"http://mail.aol.com"},emailStr=/^([\.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,phoneStr=/^1[3|4|5|8][0-9]\d{8}$/,regParam=$("#regParam").val(),uidParam=$("#uidParam").val(),nowTeam=null,contactUs="您还可以<a target='_blank' class='toUs' href='javascript:;' onclick = 'getService();'>在线咨询</a>",highLight=function(a){$("li.highLight").removeClass("highLight"),$(a).addClass("highLight")};!function(){window.isMobile&&$("#regEmail").attr({placeholder:"请输入您的手机号",pattern:"[0-9]"})}();var getEmail=function(a){var b=$(a).parent();b.next().val($(a).html()),b.hide();var c=$("input:focus");c.parent().find(".blueBtn").length?c.parent().find(".blueBtn").click():c.parent().parent().find(".blueBtn").click()},getService=function(){$("#kf5-support-btn").click()},loginUtil=new LoginUtils;$(function(){var a=new DlgControl;a.init(),String.prototype.endWith=function(a){return null==a||""==a||0==this.length||a.length>this.length?!1:this.substring(this.length-a.length)==a}});var $hackError=window.isMobile?$(".error-place-hack"):$("errorPlace");